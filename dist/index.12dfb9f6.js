const API_BASE_URL="https://api.ufrgs.br/v2/pos-graduacao",HEROKU_CORS_URL="https://cors-container.herokuapp.com/",API_CORS_BASE_URL=HEROKU_CORS_URL+API_BASE_URL,COD_ORGAO=420,MIN_CARD_WIDTH=220,MIN_CARD_HEIGHT=310;axios.interceptors.request.use((e=>(handleDisplayLoader(),e)),(e=>Promise.reject(e)));const consomeAPI=async(e,t,i)=>{try{const n=`${API_CORS_BASE_URL}/${e}/${t}`,s=await axios.get(n);return s.data.data[i]}catch(e){console.log(e)}};function handleDisplayLoader(){document.querySelector("#ppg-ufrgs-wp-component__loader").classList.toggle("display--none"),document.querySelector("#ppg-ufrgs-wp-component__content").classList.toggle("display--none")}function handleItemChange(e){section_listing=document.querySelector("section.ppg-ufrgs-wp-component__listing"),section_listing.style.gridTemplateColumns="repeat( auto-fit, minmax(10rem, 1fr) )",document.querySelector("details.ppg-ufrgs-wp__details").classList.contains("ppg-ufrgs-wp__details--open")||openDetails(e)}function createDivItem(){let e=document.createElement("div");return e.className="ppg-ufrgs-wp__listing__item",e}function createRadioItem(e,t){let i=document.createElement("input");return i.type="radio",i.name="ppg-ufrgs-wp__listing-item",i.id="ppg-ufrgs-wp__listing__item--"+e+"--"+t,i.className="ppg-ufrgs-wp__listing__item__rdo "+e+"--"+t,i.addEventListener("change",handleItemChange()),i}function createLabelItem(e,t,i){let n=document.createElement("label");n.setAttribute("for",+t+"--"+i),n.className="ppg-ufrgs-wp__listing__item__label";let s=createContentItem(e);return n.appendChild(s),n}function createContentItem(e){let t=document.createElement("div");t.className="ppg-ufrgs-wp__listing__item__conteudo";let i=createSpanCategoryItem(e),n=createTitleItem(e),s=createNameItem(e),r=createDescriptionItem(e);return t.appendChild(i),t.appendChild(n),t.appendChild(s),t.appendChild(r),t}function createSpanCategoryItem(e){let t=document.createElement("span"),i="";return i=e.NomeNivelCursoPG.startsWith("Dou")?"ppg-ufrgs-wp__listing__item__badge--doutorado":e.NomeNivelCursoPG.startsWith("Mes")?"ppg-ufrgs-wp__listing__item__badge--mestrado":"ppg-ufrgs-wp__listing__item__badge--outros",t.className="ppg-ufrgs-wp__listing__item__badge "+i,t.textContent=e.NomeNivelCursoPG,t}function createTitleItem(e){let t=document.createElement("h3");return t.className="ppg-ufrgs-wp__heading ppg-ufrgs-wp__heading--tertiary ppg-ufrgs-wp__listing__item__cod",t.textContent=e.Sigla,t}function createNameItem(e){let t=document.createElement("h4");return t.className="ppg-ufrgs-wp__heading ppg-ufrgs-wp__heading--quaternary ppg-ufrgs-wp__listing__item__nome",t.textContent=e.NomeDisciplina,t}function createDescriptionItem(e){let t=document.createElement("p");return t.className="ppg-ufrgs-wp__listing__item__sumula",t.textContent=e.Sumula,$clamp(t,{clamp:5}),t}function createListingItem(e,t,i){let n=createDivItem(),s=createRadioItem(t,i),r=createLabelItem(e,t,i);return n.appendChild(s),n.appendChild(r),n}function updateListagem(e){let t=document.querySelector("section.ppg-ufrgs-wp-component__listing");Array.isArray(e)&&e.length>0?e.map((i=>{let n=calcMatrix(itemListagem,e);t.appendChild(createListingItem(itemListagem,undefined,n))})):e&&t.appendChild(createListingItem(e,0,0))}async function carregaDisciplinas(){updateListagem(await consomeAPI("disciplinas/programa",420,"disciplinas")),handleDisplayLoader(),correctCollapsedItems()}function watchGridArea(){document.querySelector("section.ppg-ufrgs-wp-component__listing").offsetWidth,document.querySelectorAll("div.ppg-ufrgs-wp__listing__item")}function correctCollapsedItems(){var e,t=document.querySelector("section.ppg-ufrgs-wp-component__listing"),i=t.offsetWidth,n=document.querySelectorAll("div.ppg-ufrgs-wp__listing__item"),s=0,r=parseInt(window.getComputedStyle(t).getPropertyValue("grid-gap").replace("px",""));if(n.forEach((t=>{t.offsetWidth==Math.floor(.01*i)||t.offsetWidth==Math.ceil(.01*i)?s+=1:e=t.offsetWidth})),s>0){var a=Math.floor(i/(e+r)),o=s+1,l=a*o,p=0;if(l<n.length){var c=l-(n.length-s);p=Math.ceil((s-c)/a)}assignGridArea(o+p,a+1)}assignProperties()}function assignItemsAreas(e,t){var i=document.querySelectorAll("div.ppg-ufrgs-wp__listing__item"),n=0,s=[];i.forEach((r=>{n++;var a=!1;for(let o=0;o<e;o++){for(let e=0;e<t;e++)if(n<=i.length&&!s.includes("items-"+o+"-"+e)){r.style.gridArea="items-"+o+"-"+e,s.push("items-"+o+"-"+e),a=!0;break}if(a)break}}))}function openDetails(e){var t=document.querySelectorAll("div.ppg-ufrgs-wp__listing__item");document.querySelector("details.ppg-ufrgs-wp__details").classList.add("ppg-ufrgs-wp__details--open");var i=0,n=0;t.forEach((e=>{let t=parseInt(window.getComputedStyle(e).getPropertyValue("grid-area").split("-")[1]),s=parseInt(window.getComputedStyle(e).getPropertyValue("grid-area").split("-")[2]);t>i&&(i=t),s>n&&(n=s)})),n++,n++,console.log(n),console.log(i),assignGridArea(i,n,!0),toggleDetailsOpen(e)}function assignGridArea(e,t,i=!1){var n=document.querySelector("section.ppg-ufrgs-wp-component__listing"),s=genGridAreas(e,t,i);n.style.gridTemplateAreas=s,assignItemsAreas(e,t,i)}function genGridAreas(e,t,i=!1){var n="",s=0,r=document.querySelectorAll("div.ppg-ufrgs-wp__listing__item").length;t=i?t-1:t;for(let a=0;a<e;a++){n+='"';for(let e=0;e<t;e++)0!=e||i?e<=2&&a<2&&i?n+="details ":(s<r?(n+="items--"+a+"--"+e,s++):n+=".",e<t-1&&(n+=" ")):n+=a<2?"details ":". ";n+='"',a<e-1&&(n+=" ")}return n}function assignProperties(){let e=document.querySelector("details.ppg-ufrgs-wp__details"),t=e,i=e.scrollWidth;e.open=!0,t.style.setProperty("--details-content-width-open",t.scrollWidth+"px"),e.style.setProperty("--details-width-open",t.scrollWidth+i+"px"),e.open=!1,t.style.setProperty("--details-content-width-closed",t.scrollWidth+"px"),e.style.setProperty("--details-width-closed",i+"px"),e.addEventListener("toggle",(e=>toggleDetailsOpen(e))),window.addEventListener("resize",(i=>{e.classList.contains("is--open")&&t.style.setProperty("--details-width-open",t.scrollWidth+"px")}))}function toggleDetailsOpen(e){var t=document.querySelector("details.ppg-ufrgs-wp__details");t.classList.toggle("is--open"),t.open&&(e.preventDefault(),setTimeout((function(){t.open=!1}),parseInt(2e3)))}document.addEventListener("DOMContentLoaded",svg4everybody()),document.addEventListener("DOMContentLoaded",carregaDisciplinas()),document.addEventListener("resize",correctCollapsedItems());
//# sourceMappingURL=index.12dfb9f6.js.map
